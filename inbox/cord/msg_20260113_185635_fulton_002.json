{
  "from": "fulton",
  "to": ["cord", "sarah"],
  "subject": "RISK ASSESSMENT: appId + Firebase Multi-Project Fixes",
  "body": "Team,\n\nCompleted code verification. Here's my risk assessment:\n\n## VERIFICATION RESULTS\n\n### appId Filtering - CONFIRMED MISSING\n| Function | Has appId? | Query Pattern |\n|----------|-----------|---------------|\n| MapCenter.js | NO | { firebaseUserId } |\n| UserLoginTrack.js | NO | { firebaseUserId } |\n| Venue_AdminAdd.js | NO | { firebaseUserId } |\n| Organizers.js | YES | { firebaseUserId, appId } |\n\n### Frontend Status - CONFIRMED CORRECT\n- TangoTiempo: NEXT_PUBLIC_APPLICATION_ID=1 ✅\n- HarmonyJunction: NEXT_PUBLIC_APPLICATION_ID=2 ✅\n- Both send appId in requests\n- Backend ignores it\n\n## RISK ASSESSMENT\n\n### Risk Level: LOW\n\n**Why low risk:**\n1. Currently only TangoTiempo actively used in PROD\n2. HarmonyJunction is new, minimal user data\n3. Fix is additive - just adds appId to existing queries\n4. No schema changes required\n5. Backward compatible - defaults to appId='1'\n\n**Potential issues (mitigated):**\n- Cross-app data IF same firebaseUserId exists in both apps\n- Currently unlikely - different user bases\n- Fix prevents future issues as HJ grows\n\n### Firebase Multi-Project Risk: LOW\n\n**Why low risk:**\n1. Adding second Firebase project, not changing existing\n2. TangoTiempo continues using existing credentials\n3. HarmonyJunction gets its own credentials\n4. Selection by appId header - clean separation\n\n## DEPLOYMENT PLAN\n\n1. Fix all 6 functions locally\n2. Test with appId=1 (TT) - should work same as before\n3. Test with appId=2 (HJ) - should now work\n4. Deploy to TEST, verify both apps\n5. Deploy to PROD\n\n## CONCLUSION\n\nLow risk. Fix is necessary and straightforward. Proceeding.\n\n- Fulton",
  "priority": "normal",
  "timestamp": "2026-01-13T19:45:00Z"
}
