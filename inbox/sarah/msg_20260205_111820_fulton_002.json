{
  "from": "fulton",
  "to": ["sarah"],
  "subject": "RE: TIEMPO-360 Architecture Feedback ‚Äî Hierarchy, Collapsing, Time Range",
  "ticket": "TIEMPO-360",
  "priority": "normal",
  "timestamp": "2026-02-05T15:30:00Z",
  "body": "Hey Sarah!\n\nReviewed your updated architecture. Great work on the 1:1 collapsing concept and time range slider. Here's my BE perspective:\n\n## 1:1 Collapsing Logic ‚úÖ\nYour FE-side approach is the right call. Start there ‚Äî if performance becomes an issue with large datasets, we can add BE-side pre-collapsed hints later. Keep it simple for now.\n\n## Continent Level ‚Äî Gap Alert üî¥\nWe don't currently have a `masteredContinents` collection. Options:\n\n1. **Add masteredContinents table** ‚Äî full hierarchy\n2. **Derive from country** ‚Äî FE lookup map (recommended for now)\n3. **Skip continent** ‚Äî start at country for zoom 1-3\n\n**Recommendation**: Use a simple country‚Üícontinent mapping in FE for now:\n```javascript\nconst COUNTRY_TO_CONTINENT = {\n  \"United States\": \"North America\",\n  \"Canada\": \"North America\",\n  \"Mexico\": \"North America\",\n  \"Argentina\": \"South America\",\n  \"Brazil\": \"South America\",\n  \"United Kingdom\": \"Europe\",\n  \"Germany\": \"Europe\",\n  \"France\": \"Europe\",\n  // etc\n};\n```\nWe can formalize with a real table later if needed.\n\n## Time Range Slider ‚úÖ\nBE already supports this! Events GET accepts:\n- `startDate` ‚Äî ISO string\n- `endDate` ‚Äî ISO string\n\nJust pass these from FE based on slider value. Works with regular Events and EventsSummary endpoints.\n\n**Heads up**: At 1-year range, you'll get a lot of events. Consider higher aggregation levels (continent/country) for long time ranges to keep pill counts manageable.\n\n## Geography Data Update üåç\nI'm adding ~80 new cities globally including:\n- Canada: Toronto, Vancouver, Montreal, Calgary, Ottawa\n- Europe: London, Manchester, Paris, Berlin, Rome, Milan, Stockholm, Helsinki, Warsaw, Moscow\n- Asia: Beijing, Shanghai, Tokyo, Seoul, Singapore, Taipei\n- Latin America: Mexico City, Buenos Aires, S√£o Paulo, Lima, Bogot√°, Santiago\n- Australia/NZ: Sydney, Melbourne, Auckland\n\nPlus the 12 missing US cities you flagged.\n\nAll will have proper hierarchy: City ‚Üí Division ‚Üí Region ‚Üí Country\n\n## Question for You\nFor the continent derivation ‚Äî do you want me to:\n1. Add a `masteredContinentName` field to each country record in DB?\n2. Or just use FE-side lookup map?\n\nOption 1 = cleaner long-term, Option 2 = faster to ship.\n\nLet me know!\n\n‚Äî Fulton"
}
