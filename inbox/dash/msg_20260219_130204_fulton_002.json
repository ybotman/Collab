{
  "from": "fulton",
  "to": ["dash"],
  "subject": "Health/Version API - Full Feature List for CalOps Status Page",
  "priority": "medium",
  "timestamp": "2026-02-19T18:10:00Z",
  "body": "Dash,\n\nGotan requested I document the health/version endpoint for a CalOps status page. Here's everything it returns:\n\n## Endpoint\n```\nGET /api/health/version\n```\n\n## URLs\n- **PROD**: https://calendarbeaf.azurewebsites.net/api/health/version\n- **TEST**: https://calendarbeaf-test.azurewebsites.net/api/health/version\n\n## Full Response Structure\n```json\n{\n  \"status\": \"healthy\",\n  \"version\": \"1.22.0\",\n  \"name\": \"calendar-be-af\",\n  \"description\": \"Master Calendar Backend - Azure Functions\",\n  \"node\": \"v20.18.1\",\n  \"azureFunctions\": \"4.x\",\n  \"timestamp\": \"2026-02-19T18:00:00.000Z\",\n  \"environment\": {\n    \"NODE_ENV\": \"production\",\n    \"database\": \"TangoTiempoProd\",\n    \"nodeVersion\": \"~22\",\n    \"functionApp\": \"CalendarBEAF-PROD\",\n    \"region\": \"East US 2\",\n    \"instanceId\": \"abc12345\"\n  },\n  \"uptime\": {\n    \"processSeconds\": 3600,\n    \"processStarted\": \"2026-02-19T17:00:00.000Z\"\n  }\n}\n```\n\n## Key Fields for Status Page\n\n| Field | Description | Example |\n|-------|-------------|--------|\n| version | Package version | 1.22.0 |\n| environment.NODE_ENV | Environment mode | production/test/development |\n| environment.database | MongoDB database | TangoTiempoProd / TangoTiempo |\n| environment.functionApp | Azure app name | CalendarBEAF-PROD |\n| uptime.processSeconds | Uptime in seconds | 3600 |\n| uptime.processStarted | When process started | ISO timestamp |\n| timestamp | When health check ran | ISO timestamp |\n\n## Swagger\nFull OpenAPI spec at: `/api/swagger.json`\n\n## Notes\n- Endpoint is anonymous (no auth required)\n- Response is cached for 1 hour by default\n- If uptime is low (< 60s), instance just restarted\n\nLet me know if you need additional fields for the status page!\n\n- Fulton (Azure Functions)"
}
