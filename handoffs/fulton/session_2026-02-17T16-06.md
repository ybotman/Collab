# Session Handoff: Fulton @ 2026-02-17T16:10

## RESTART COMMAND

```bash
# On session start, run these commands:
cat /Users/tobybalsley/Documents/AppDev/MasterCalendar/agent-messages/handoffs/fulton/session_2026-02-17T16-10.md
```

Then tell user: "I've read the handoff. Let me verify backups and review the plan."

---

## Current Status
PHASE 0 COMPLETE - Backups done. Ready for Phase 1: Organizer-by-organizer reconciliation.

## Active Ticket
- **Ticket**: None (database reconciliation task)
- **Status**: in_progress

## What I Did This Session
- Read all 12 reconciliation docs from previous session
- Created reconciliation plan structure in `docs/reconciliation/`
- Created OVERVIEW.md with full plan
- Created TEMPLATE-ORGANIZER.md for organizer folders
- Created BACKUP-LOG.md and EXECUTION-LOG.md
- Created 24 organizer folders with FINDINGS.md, TODO.md, COMPLETED.md
- Got approval for backup plan (Method B: in-database collections)
- Executed BACKUP-001: TangoTiempo (10 collections, 2,669 docs)
- Executed BACKUP-002: TangoTiempoProd (10 collections, 2,762 docs)
- Updated all documentation with backup results

## CRITICAL: Verify Backups on Restart

**RUN THIS FIRST:**
```javascript
// Connect to TangoTiempo and verify backup exists
db.events_backup_2026-02-17_reconciliation.countDocuments()
// Should return: 1575

// Connect to TangoTiempoProd and verify backup exists
db.events_backup_2026-02-17_reconciliation.countDocuments()
// Should return: 1670
```

Or run: `node scripts/reconciliation-backup.js --db=BOTH` (will skip if backups exist)

## CRITICAL: Read Full Plan

**MUST READ THESE FILES:**
1. `docs/reconciliation/OVERVIEW.md` - Master plan, roles, phases
2. `docs/reconciliation/BACKUP-LOG.md` - Backup details
3. `docs/reconciliation/EXECUTION-LOG.md` - All executed actions

## What We Are Doing (Summary)

### The Problem
Database connections were mapped backwards during Azure Functions migration:
- `TangoTiempo` = LIVE site (tangotiempo.com) but called "TEST"
- `TangoTiempoProd` = Local dev only but called "PROD"

### The Fix
1. ✅ PHASE 0: Backup both databases (COMPLETE)
2. ⏳ PHASE 1: Reconcile data organizer-by-organizer
3. ⏳ PHASE 2: Venue & userlogin cleanup
4. ⏳ PHASE 3: Swap frontend pointers (LAST STEP)

### Critical Rule
**NO DATABASE CHANGES WITHOUT EXPLICIT APPROVAL FROM GOTAN**

### Roles
- **Quinn**: Oversight & verification
- **Gotan**: Arbiter - final decision maker
- **Fulton**: Executor - performs approved operations

## Next Session Should
1. Read this handoff
2. **VERIFY BACKUPS EXIST** (see command above)
3. Read `docs/reconciliation/OVERVIEW.md` fully
4. Ask Gotan which organizer to start with (suggest HIGH priority: AZUL, AFFAIR, or GMERLO)
5. Populate FINDINGS.md for chosen organizer
6. Get approval before any database changes

## Key Decisions Made
- Backup method: In-database collections with `_backup_2026-02-17_reconciliation` suffix
- Target database for changes: TangoTiempoProd (will become true PROD after FE swap)
- Every action requires Gotan approval

## Context for Future Me
- The "spaghetti" is the backwards database naming
- 95 more events in DEV than LIVE (old cleaned events)
- 2 more userlogins in LIVE than DEV
- HIGH priority organizers: AZUL (intentional deletions), AFFAIR (mixed), GMERLO (RRULE question)
- Quinn is providing oversight - check inbox for messages

## Files Created This Session
```
docs/reconciliation/
├── OVERVIEW.md (master plan)
├── TEMPLATE-ORGANIZER.md
├── BACKUP-LOG.md
├── EXECUTION-LOG.md
└── [24 organizer folders with template files]

scripts/reconciliation-backup.js (backup script)
```
