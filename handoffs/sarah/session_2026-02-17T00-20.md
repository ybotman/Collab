# Session Handoff: Sarah @ 2026-02-17T00:20

## Current Status
TIEMPO-381 modal fixes complete and deployed to PROD v1.19.18. Boston route refinements done.

## Active Ticket
- **Ticket**: TIEMPO-381
- **Status**: Mostly complete - one open question about Boston event filtering

## What I Did This Session
- Fixed WelcomeModal opening MapCenterModal for logged-in users (root cause of modal popup)
- Added geoInitialized guard in calendar/page.js
- Removed welcome banner from /boston main screen
- Changed /boston SidebarDrawer "Set Map Center" to "Want more events?" linking to tangotiempo.com
- Changed /boston NoEventsAlert to "Explore All Regions" link
- Fixed SSR issue with Boston route detection (useEffect/useState pattern)
- Added clickable location pill "üìç Boston ¬± 200mi" to Boston header

## Open Question (needs investigation)
User asked why events aren't showing on /boston. Three event IDs given all return **404 from both PROD and TEST APIs**:
- 693b1d352788114be0e4dc60
- 692ddc10c6ecccc498a249b1  
- 68c0676ef3de07dfe590166d

User's last question: "are we filtering events on /boston by range or filters by masteredCityId or filters by masteredCity?"

**Answer**: Boston uses geo-radius filtering via `useGeoLocationContext: true` in useCalendarPage. Parameters:
- lat: 42.3601, lng: -71.0589
- radius: 200 miles (converted to ~322km)
- useGeoSearch: true

NOT using masteredCityId or masteredCity filters.

## Versions Deployed
- DEVL: 1.19.18
- TEST: 1.19.18
- PROD: 1.19.18

## Key Decisions Made
- WelcomeModal skips location check for logged-in users (UserLocationLoader handles them)
- Boston route detection uses useEffect/useState to work with SSR
- Boston location pill links to tangotiempo.com (not MapCenterModal)

## Next Session Should
1. Investigate why those 3 events don't exist in DB (deleted? wrong IDs?)
2. Verify Boston geo filtering is working correctly
3. Consider removing debug console.logs before closing TIEMPO-381
4. 429 geolocate errors are separate issue (not blocking)
